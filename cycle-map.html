<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">
    
    <!-- Safari iOS - apps only -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- Chrome for Android - NEW! -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="images/brand.png">
    <link rel="shortcut icon" href="images/favicon.ico">

    <title>CIGI Cycle Map</title>

    <!-- Bootstrap core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="dist/css/style.css" rel="stylesheet">

    <!-- Bootstrap-map-js -->
    <link rel="stylesheet" type="text/css" href="//js.arcgis.com/3.13/esri/css/esri.css">   
    <link rel="stylesheet" type="text/css" href="dist/css/bootstrapmap.min.css">   

    <style type="text/css">

      #mapDiv {
        min-height: 100%; 
        max-height: 100%; 
      }

    </style>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../bootstrap_v3/docs-assets/js/html5shiv.js"></script>
      <script src="../bootstrap_v3/docs-assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- load jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="http://www.champaigncountybikes.org"><img class="navbar-brand-image" src="images/brand.png">Cycle Map</a>

          <!-- all the possible buttons -->
          <ul class="nav navbar-nav">
            <li><a id="first-btn" onclick="ui_first_button_handler(event);">Clear</a></li>
          </ul>
        </div>
      </div>
    </div>

    <script type='text/javascript'>
        function ui_first_button_handler(evt) {
            // set first-bt to done and second button to cancel
            current = evt.target.text;
            if (current == "Clear") {
		// clear graphics layer
		map.graphics.clear();
		// remove points from route
		route_points = [];
		prevMapPoint = null;
		num_points = 0;
		// kill elevation iframe
		$('#elevation_chart').empty();
		old_height = $('#mapDiv').css("height");
		$('#mapDiv').css({height: old_height.substr(0, old_height.length - 2)*1 + 150 + "px"});
            };
        }
    </script>

    <!-- Bootstrap-map-js -->
    <div id="mapDiv"></div>
    <div id="elevation_chart"></div>
    
    <script type="text/javascript">
        var package_path = window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/'));
        var dojoConfig = {
            //The location.pathname.replace() logic below may look confusing but all its doing is
            // enabling us to load the api from a CDN and load local modules from the correct location.
            packages: [{
                name: "application",
                location: package_path + '/dist/js'
            }, {
                name: "bootstrap",
                location: "//rawgit.com/xsokev/Dojo-Bootstrap/master"
            }]
        };
    </script>
    <script src="//js.arcgis.com/3.13compact"></script>
    <script src="//ajax.googleapis.com/ajax/libs/dojo/1.10.4/dojo/dojo.js"></script> 
    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script src="https://www.google.com/jsapi"></script>
    <script src="route.js"></script>    
    <script src="mymap_hh.js"></script>  
    <script src="elevation.js"></script>
  </body>
</html>
